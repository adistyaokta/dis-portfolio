---
import { Image } from 'astro:assets';
import { type Project } from '../../data/projects';
import { Icon } from 'astro-icon/components';

const { title, tag, image, path, github } = Astro.props as Project;
---

<div
  class='relative group border-t-2 first:border-t-0 last:border-b-2 border-secondary/60'
>
  <div class='h-full min-h-32 md:min-h-40 flex flex-col justify-center'>
    <div class='flex flex-col'>
      <span
        class='font-bold font-orbitron uppercase tracking-wide text-xl md:text-4xl'
        >{title}</span
      >
      {
        path && (
          <a
            href={path}
            target='_blank'
            class='flex items-center gap-1 group/visit font-raleway w-fit opacity-0 cursor-pointer group-hover:opacity-100 hover:underline hover:underline-offset-2 transition-all duration-300'
          >
            Visit Project{' '}
            <Icon
              name='mdi:play-outline'
              size={20}
              class={
                'rotate-90 group-hover/visit:rotate-0 transition-all duration-300'
              }
            />
          </a>
        )
      }
      {
        github && (
          <a
            href={github}
            target='_blank'
            class='font-raleway flex items-center gap-1 w-fit opacity-0 cursor-pointer group-hover:opacity-100 hover:underline hover:underline-offset-2 transition-all duration-300'
          >
            Github <Icon name='line-md:github-loop' />
          </a>
        )
      }
    </div>
  </div>
  <div
    class='opacity-0 absolute top-0 right-0 md:right-10 h-28 md:h-60 aspect-video bg-secondary z-40 translate-y-2 md:-translate-y-10 group-hover:opacity-100 transition-all hover:md:scale-105 delay-100 duration-300'
  >
    <Image
      src={image}
      alt={`${title}-preview`}
      class='absolute inset-0 w-full h-full object-cover'
    />
    <!-- class='flex justify-end gap-1 absolute bottom-3 right-0 md:right-3 bg-red-900' -->
    <div class='absolute bottom-0 flex justify-end gap-1 w-full flex-wrap p-2'>
      {
        tag?.map((item) => {
          return (
            <span class='text-xs md:text-sm capitalize px-2 rounded-sm text-secondary bg-primary/70 font-bold'>
              {item}
            </span>
          );
        })
      }
    </div>
  </div>
</div>
